<div class="ranking-wrapper">
  <!-- ENCABEZADO -->
  <section class="ranking-header">
    <h2>Ranking Global</h2>

    <!-- RESUMEN DEL USUARIO -->
    <div class="user-summary">
      <div class="user-info">
        <img [src]="perfil || '/assets/img/default.png'" alt="Foto de perfil" class="user-avatar" />
        <div>
          <h3>{{ nombre }} {{ apellido }}</h3>
          <span class="rol-badge">{{ rol }} ðŸŒ¿</span>
        </div>
      </div>

      <div class="user-rank">
        <p>Tu posiciÃ³n actual:</p>
        <h4>#{{ posicionRanking }}</h4>
        <span class="puntos-badge">{{ puntos }} puntos</span>
      </div>
    </div>
  </section>

  <!-- TABLA DE RANKING -->
  <section class="ranking-table-section">
    <!-- ENCABEZADO INTERNO -->
    <div class="ranking-controls">
        <p class="ranking-info">ClasificaciÃ³n general de usuarios</p>
      <div class="search-container">
        <select class="search-select" >
          <option value="nombre">Nombre</option>
          <option value="apellido">Apellido</option>
          <option value="rol">Rol</option>
          <option value="id">ID</option>
        </select>
        <input type="text" placeholder="Buscar jugador..." class="search-input"/>
      </div>
    </div>

    <!-- TABLA -->
    <table class="ranking-table">
      <thead>
        <tr>
          <th>PosiciÃ³n</th>
          <th>Jugador</th>
          <th>Puntos</th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="let usuario of filtrarUsuarios(); let i = index"
          [ngClass]="{ 'top1': i === 0, 'top2': i === 1, 'top3': i === 2 }"
        >
          <td>#{{ i + 1 }}</td>
          <td class="user-cell">
            <img [src]="usuario.perfil || '/assets/img/default.png'" alt="avatar" class="table-avatar" />
            <div>{{ usuario.nombre }} {{ usuario.apellido }}</div>
          </td>
          <td class="points">{{ usuario.puntos }}</td>
        </tr>
      </tbody>
    </table>
  </section>
</div>
